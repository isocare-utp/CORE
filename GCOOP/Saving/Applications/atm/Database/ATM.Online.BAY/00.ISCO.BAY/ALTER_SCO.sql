--alter table "CMSHRLONSLIP" modify ("MEMBER_NO" varchar2(8));
--alter table "CMSHRLONSLIP" modify ("DOCUMENT_NO" varchar2(15));
alter table "DPDEPTMASTER" add ("BANK_ACCID" varchar2(15));
alter table "DPDEPTMASTER" modify ("BANK_ACCID" varchar2(15));
alter table "DPDEPTSTATEMENT" add ("REF_DOCNO" varchar2(15));
alter table "DPDEPTSTATEMENT" modify ("REF_DOCNO" varchar2(15));
alter table "SLSLIPPAYOUT" add ("REF_DOCNO" varchar2(15));
alter table "SLSLIPPAYIN" add ("REF_DOCNO" varchar2(15));
CREATE INDEX "LON_ATM" ON "LNCONTSTATEMENT" ("REF_DOCNO" , "ENTRY_ID" ) ;
CREATE INDEX "DEP_ATM" ON "DPDEPTSTATEMENT" ("MACHINE_ID" , "ENTRY_ID" ) ;
--CREATE TABLE "CMDOCUMENTCONTROL" ("COOP_ID" CHAR(6) NOT NULL, "DOCUMENT_CODE" VARCHAR2(20) NOT NULL, "DOCUMENT_NAME" VARCHAR2(100), "LAST_DOCUMENTNO" NUMBER(10,0), "DOCUMENT_PREFIX" VARCHAR2(10), "DOCUMENT_LENGTH" NUMBER(2,0), "DOCUMENT_FORMAT" VARCHAR2(15), "DOCUMENT_YEAR" VARCHAR2(4), "CLEAR_TYPE" NUMBER(2,0), "SYSTEM_CODE" CHAR(3)) ;
--ALTER TABLE "CMDOCUMENTCONTROL" ADD ( CONSTRAINT CMDOCUMENTCONTROL_PK PRIMARY KEY ( "COOP_ID", "DOCUMENT_CODE" )) ;
--CREATE TABLE "CMSHRLONDOCCONTROL" ("DOCUMENT_CODE" CHAR(20) NOT NULL, "DOCUMENT_NAME" VARCHAR2(100), "LAST_DOCUMENTNO" CHAR(10), "DOCUMENT_YEAR" CHAR(10), "CLEAR_TYPE" NUMBER(2,0) DEFAULT 0, "SYSTEM_CODE" CHAR(3), "BRANCH_ID" CHAR(3) DEFAULT '000' , "RUNNING_BRANCH" CHAR(3) DEFAULT '001' ) ;
--ALTER TABLE "CMSHRLONDOCCONTROL" ADD ( CONSTRAINT SYS_C0058469 PRIMARY KEY ( "DOCUMENT_CODE" )) ;
--CREATE TABLE "MBMEMBEXPENSE" ("MEMBER_NO" CHAR(6) NOT NULL, "EXPENSE_TYPE" NUMBER(2,0), "EXPENSE_BANK" CHAR(3), "EXPENSE_BRANCH" CHAR(3), "EXPENSE_ACCID" VARCHAR2(17), "DIVIDEND_TYPE" NUMBER(2,0), "DIVIDEND_BANK" CHAR(3), "DIVIDEND_BRANCH" CHAR(4), "DIVIDEND_ACCID" VARCHAR2(17), "LOANRCV_TYPE" NUMBER(2,0), "LOANRCV_BANK" CHAR(3), "LOANRCV_BRANCH" CHAR(3), "LOANRCV_ACCID" CHAR(17), "LOANRCV_CODE" CHAR(3), "EXPENSE_CODE" CHAR(3), "DIVIDEND_CODE" CHAR(3), "SALARY_ID" CHAR(15), "BKDIV_ACCID" CHAR(10), "BKDIV_BRANCH" CHAR(3), "BKDIV_BANK" CHAR(2), "PAYDIV_GRP" CHAR(2), "BKDIV_CODE" CHAR(3)) ;
--CREATE UNIQUE INDEX "MBMEMBEXPENSE_X" ON "MBMEMBEXPENSE" ("MEMBER_NO" ) ;
--CREATE TABLE "CMSHRLONSLIP" ("SLIP_NO" CHAR(10) NOT NULL, "MEMBER_NO" VARCHAR2(8) NOT NULL, "DOCUMENT_NO" VARCHAR2(15), "SLIPTYPE_CODE" CHAR(3), "SLIP_DATE" DATE, "OPERATE_DATE" DATE, "SHARESTKBF_VALUE" NUMBER(15,2) DEFAULT 0 , "SHARESTK_VALUE" NUMBER(15,2) DEFAULT 0 , "ACCUM_INTEREST" NUMBER(9,2) DEFAULT 0 , "MONEYTYPE_CODE" CHAR(3), "EXPENSE_BANK" CHAR(3), "EXPENSE_BRANCH" CHAR(3), "EXPENSE_ACCID" VARCHAR2(15), "BANKFEE_AMT" NUMBER(9,2) DEFAULT 0 , "BANKSRV_AMT" NUMBER(9,2) DEFAULT 0 , "OVERLAP_FLAG" NUMBER(2,0) DEFAULT 0 , "ACCID_FLAG" NUMBER(2,0) DEFAULT 1 , "TOFROM_ACCID" CHAR(8), "REF_OPEDOCNO" CHAR(10), "REF_NEWCONTNO" CHAR(10), "REF_SHARETYPE" CHAR(2), "REF_SYSTEM" VARCHAR2(10), "REF_SLIPNO" CHAR(10), "REF_SLIPAMT" NUMBER(15,2) DEFAULT 0 , "SLIP_AMT" NUMBER(15,2) DEFAULT 0 , "SLIP_STATUS" NUMBER(2,0) DEFAULT 1 , "ENTRY_ID" CHAR(15), "ENTRY_DATE" DATE, "COOPBRANCH_ID" CHAR(3), "BRANCH_ID" CHAR(3) DEFAULT '000' , "MBBRANCH_ID" CHAR(3) DEFAULT '000' , "OTHERS_VALUE" NUMBER(9,2) DEFAULT 0.00 , "CANCEL_DATE" DATE, "CANCEL_ID" CHAR(15), "INSURANCE_AMT" NUMBER(15,2), "INSTYPE_CODE" CHAR(2), "CHEQUE_DATE" DATE, "CLOSEDAY_STATUS" NUMBER(2,0), "COOPBANK_CODE" CHAR(3), "VOUCHER_NO" CHAR(10), "NLNTRNBAL_AMT" NUMBER(15,2), "NLOANBAL_AMT" NUMBER(15,2), "ELNTRNBAL_AMT" NUMBER(15,2), "ELOANBAL_AMT" NUMBER(15,2), "MEMBGROUP_CODE" CHAR(8)) ;
--ALTER TABLE "CMSHRLONSLIP" ADD ( CONSTRAINT SYS_C0023549 PRIMARY KEY ( "SLIP_NO" )) ;
--ALTER TABLE "CMSHRLONSLIP" ADD ( CONSTRAINT SYS_C0024610 FOREIGN KEY ( "MONEYTYPE_CODE" ) REFERENCES "CMUCFMONEYTYPE" ) ;
--ALTER TABLE "CMSHRLONSLIP" ADD ( CONSTRAINT SYS_C0024611 FOREIGN KEY ( "SLIPTYPE_CODE" ) REFERENCES "CMUCFSLIPTYPE" ) ;
--CREATE UNIQUE INDEX "INDX_SLIPDATE" ON "CMSHRLONSLIP" ("SLIP_NO" , "SLIP_DATE" ) ;
--CREATE INDEX "XIF363CMSHRLONSLIP" ON "CMSHRLONSLIP" ("SLIPTYPE_CODE" ) ;
--CREATE INDEX "XIF366CMSHRLONSLIP" ON "CMSHRLONSLIP" ("MONEYTYPE_CODE" ) ;
--CREATE TABLE "CMSHRLONSLIPDET" ("SLIP_NO" CHAR(10) NOT NULL, "SLIPITEMTYPE_CODE" CHAR(3) NOT NULL, "SEQ_NO" NUMBER(5,0) NOT NULL, "SHRLONTYPE_CODE" CHAR(2) DEFAULT '99' NOT NULL, "OPERATE_FLAG" NUMBER(2,0) DEFAULT 0 , "LOANCONTRACT_NO" CHAR(10), "SLIPITEM_DESC" VARCHAR2(100), "PERIODCOUNT_STATUS" NUMBER(2,0) DEFAULT 0 , "PERIOD" NUMBER(3,0) DEFAULT 0 , "PRINCIPAL_PAYAMT" NUMBER(15,2) DEFAULT 0 , "INTEREST_PAYAMT" NUMBER(9,2) DEFAULT 0 , "INTARREAR_PAYAMT" NUMBER(9,2) DEFAULT 0 , "ITEM_PAYAMT" NUMBER(15,2) DEFAULT 0 , "ITEM_BALANCE" NUMBER(15,2) DEFAULT 0 , "CALINT_FROM" DATE, "CALINT_TO" DATE, "INTEREST_PERIOD" NUMBER(9,2) DEFAULT 0 , "INTARREAR_PERIOD" NUMBER(9,2) DEFAULT 0 , "INTEREST_RETURN" NUMBER(9,2) DEFAULT 0 , "INTEREST_NORMAL" NUMBER(9,2) DEFAULT 0 , "STM_ITEMTYPE" CHAR(3), "SHRLON_TYPE" NUMBER(2,0) DEFAULT 1 , "BFPERIOD" NUMBER(3,0) DEFAULT 0 , "BFINTARR_AMT" NUMBER(9,2) DEFAULT 0 , "BFINTMTHARR_AMT" NUMBER(9,2) DEFAULT 0 , "BFINTYEARARR_AMT" NUMBER(15,2) DEFAULT 0 , "BFLASTCALINT_DATE" DATE, "BFLASTPROC_DATE" DATE, "BFLASTPAY_DATE" DATE, "BFWITHDRAW_AMT" NUMBER(15,2) DEFAULT 0 , "BFBALANCE_AMT" NUMBER(15,2) DEFAULT 0 , "BFPBPRINBAL_AMT" NUMBER(15,2) DEFAULT 0 , "BFPBINTBAL_AMT" NUMBER(15,2) DEFAULT 0 , "BFCONTRACT_TYPE" NUMBER(2,0) DEFAULT 1 , "BFCONTRACT_STATUS" NUMBER(2,0) DEFAULT 1 , "CONTRACTINT_TYPE" NUMBER(2,0) DEFAULT 0 , "CONTRACT_INTEREST" NUMBER(6,4) DEFAULT 0.0000 , "CONTINTEXPIRE_DATE" DATE, "RKEEP_PRINCIPAL" NUMBER(9,2) DEFAULT 0 , "RKEEP_INTEREST" NUMBER(9,2) DEFAULT 0 , "NKEEP_INTEREST" NUMBER(9,2) DEFAULT 0 , "DISPLAYONLY_FLAG" NUMBER(2,0) DEFAULT 0 , "SLIPITEM_STATUS" NUMBER(2,0) DEFAULT 1 , "CANCEL_ID" CHAR(15), "CANCEL_DATE" DATE, "POSTTOVC_FLAG" NUMBER(2,0) DEFAULT 0 , "VOUCHER_NO" CHAR(10), "CANCELTOVC_FLAG" NUMBER(2,0) DEFAULT 0 , "CANCELVC_NO" CHAR(10), "BFPROBLEM_FLAG" NUMBER(2,0) DEFAULT 0 , "ACCOUNT_YEAR" NUMBER(4,0), "BRANCH_ID" CHAR(3) DEFAULT '001' , "LNBRANCH_ID" CHAR(3) DEFAULT '001' , "ETCFROM_ACCID" CHAR(8), "CLCFEE_AMT" NUMBER(15,4) DEFAULT 0 , "BFINTEREST_RETURN" NUMBER(15,2) DEFAULT 0 , "BFPRINCIPAL_RETURN" NUMBER(15,2) DEFAULT 0 , "PRINCIPAL_RETURN" NUMBER(15,2) DEFAULT 0 , "FINE_RECVPERIOD" CHAR(6), "LNFINE_AMT" NUMBER(15,2) DEFAULT 0 , "BFPRINCIPALARR_AMT" NUMBER(15,2) DEFAULT 0 , "BFPERIOD_ARREAR" NUMBER(5,0) DEFAULT 0 , "LOANGROUP_CODE" CHAR(2)) ;
--ALTER TABLE "CMSHRLONSLIPDET" ADD ( CONSTRAINT PK_SLIPDET PRIMARY KEY ( "SLIP_NO", "SLIPITEMTYPE_CODE", "SEQ_NO", "SHRLONTYPE_CODE" )) ;
--ALTER TABLE "CMSHRLONSLIPDET" ADD ( CONSTRAINT SYS_C0024581 FOREIGN KEY ( "SLIP_NO" ) REFERENCES "CMSHRLONSLIP" ON DELETE CASCADE ) ;
--ALTER TABLE "CMSHRLONSLIPDET" ADD ( CONSTRAINT SYS_C0024582 FOREIGN KEY ( "SLIPITEMTYPE_CODE" ) REFERENCES "CMUCFSLIPITEMTYPE" ) ;
--CREATE INDEX "XIF362CMSHRLONSLIPDET" ON "CMSHRLONSLIPDET" ("SLIP_NO" ) ;
--CREATE INDEX "XIF369CMSHRLONSLIPDET" ON "CMSHRLONSLIPDET" ("SLIPITEMTYPE_CODE" ) ;
--CREATE TABLE "CMLOANRECEIVE" ("LOANRECEIVE_NO" CHAR(10) NOT NULL, "MEMBER_NO" CHAR(6), "LOANCONTRACT_NO" CHAR(10), "LOANTYPE_CODE" CHAR(2), "BFPERIOD" NUMBER(3,0), "BFPRINBAL_AMT" NUMBER(15,2) DEFAULT 0 , "BFWITHDRAW_AMT" NUMBER(15,2) DEFAULT 0 , "BFINTEREST_ARREAR" NUMBER(9,2) DEFAULT 0 , "BFINTMONTH_ARREAR" NUMBER(9,2) DEFAULT 0 , "BFPAYMENT_STATUS" NUMBER(2,0) DEFAULT 0 , "BFLASTCALINT_DATE" DATE, "BFLASTRECEIVE_DATE" DATE, "BFLASTPROC_DATE" DATE, "BFSTARTKEEP_PERIOD" CHAR(8), "BFCONTRACT_TYPE" NUMBER(2,0), "SHARESTK_VALUE" NUMBER(15,2) DEFAULT 0 , "INTEREST_ACCUM" NUMBER(9,2) DEFAULT 0 , "LOANRECEIVE_DATE" DATE, "LOANRECEIVE_AMT" NUMBER(15,2) DEFAULT 0 , "BUYSHARE_AMT" NUMBER(15,2) DEFAULT 0 , "CLEARPRIN_AMT" NUMBER(15,2) DEFAULT 0 , "CLEARINT_AMT" NUMBER(15,2) DEFAULT 0 , "LOANRECEIVENET_AMT" NUMBER(15,2) DEFAULT 0 , "INTEREST_ARREAR" NUMBER(9,2) DEFAULT 0 , "INTMONTH_ARREAR" NUMBER(9,2) DEFAULT 0 , "RECEIVEPERIOD_FLAG" NUMBER(2,0) DEFAULT 0 , "LAST_PERIODRCV" NUMBER(3,0), "EXPENSE_CODE" CHAR(3), "EXPENSE_BANK" CHAR(3), "EXPENSE_BRANCH" CHAR(3), "EXPENSE_ACCID" VARCHAR2(16), "BANKSRV_AMT" NUMBER(9,2) DEFAULT 0 , "BANKFEE_AMT" NUMBER(9,2) DEFAULT 0 , "OVERLAP_FLAG" NUMBER(2,0) DEFAULT 0 , "PAYMENT_STATUS" NUMBER(2,0) DEFAULT 0 , "CONTRACTINT_TYPE" NUMBER(2,0), "CONTRACT_INTEREST" NUMBER(6,4), "CONTINTEXPIRE_DATE" DATE, "SLIPLWD_NO" CHAR(10), "SLIPCLC_NO" CHAR(10), "RECEIPT_NO" CHAR(10), "PAYOUT_NO" CHAR(10), "LOANRECEIVE_STATUS" NUMBER(2,0) DEFAULT 0 , "ENTRY_ID" VARCHAR2(15), "ENTRY_DATE" DATE, "COOPBRANCH_ID" CHAR(3), "CANCEL_ID" VARCHAR2(15), "CANCEL_DATE" DATE, "VOUCHER_NO" CHAR(10), "TOFROM_ACCID" CHAR(8), "POSTTOVC_FLAG" NUMBER(2,0) DEFAULT 0 , "CANCELTOVC_FLAG" NUMBER(2,0) DEFAULT 0 , "CANCELVC_NO" CHAR(18), "HELPLNCOLL_AMT" NUMBER(7,2) DEFAULT 0, "BRANCH_ID" CHAR(3) DEFAULT '001' , "MBBRANCH_ID" CHAR(3) DEFAULT '001' , "LNBRANCH_ID" CHAR(3) DEFAULT '001' , "CALINTFUTURE_DATE" DATE, "INTEREST_FUTURE" NUMBER(15,2), "INTCLEAR_RETURN" NUMBER(15,2) DEFAULT '0' , "INSURANCE_AMT" NUMBER(15,2), "INSTYPE_CODE" CHAR(2), "POSTMASTER_STATUS" NUMBER(1,0) DEFAULT 1 , "LOANINS_AMT" NUMBER(15,2) DEFAULT 0.00 , "WITHDRAWABLE_AMT" NUMBER(15,2) DEFAULT 0 , "BFLASTACCESS_DATE" DATE, "EXPENSE_TYPE" NUMBER(2,0), "LOANPOSTACC_NO" CHAR(10), "INTEREST_RETURN" NUMBER(15,2) DEFAULT 0 , "COOPBANK_CODE" CHAR(3), "CLEARINSURE_AMT" NUMBER(9,2) DEFAULT 0.00 , "INSURANCE_NO" CHAR(15), "INSURETYPE_CODE" NUMBER(2,0) DEFAULT 0 , "SUMINSURE_AMT" NUMBER(9,2) DEFAULT 0.00 , "CLEARINSURE_AMT2" NUMBER(9,2)) ;
--ALTER TABLE "CMLOANRECEIVE" ADD ( CONSTRAINT SYS_C0023527 PRIMARY KEY ( "LOANRECEIVE_NO" )) ;
--alter table "LNCONTSTATEMENT" add ("LOANRECEIVE_NO" CHAR(10));


update lnloanconstant set kpitemarrdouble_flag=0 where kpitemarrdouble_flag is null or kpitemarrdouble_flag=1;
commit;